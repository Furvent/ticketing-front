<div class="ticketing-ticket-details-main-container">
  <h2 class="ticketing-ticket-details-main-title mat-dialog-title">
    {{ ticket.title | uppercase }}
  </h2>
  <div class="ticketing-ticket-details-content-container">
    <div class="ticketing-ticket-details-left-side">
      <div class="ticketing-sub-title-h3-container">
        <h3 class="ticketing-ticket-details-sub-title">
          <mat-icon>home</mat-icon>
          <span class="ticketing-sub-title">Details</span>
        </h3>
      </div>
      <p>
        {{ ticket.description }}
      </p>

      <div class="ticketing-sub-title-h3-container">
        <h3 class="ticketing-ticket-details-sub-title">
          <mat-icon>people</mat-icon>
          <span class="ticketing-sub-title">Working on</span>
        </h3>
      </div>
      <p *ngIf="ticket.usersOnTask.length <= 0">
        No user on task
      </p>
      <p *ngFor="let user of ticket.usersOnTask">
        <span>{{ user.pseudo | titlecase }} </span>
      </p>

      <div class="ticketing-sub-title-h3-container">
        <h3 class="ticketing-ticket-details-sub-title">
          <mat-icon>history</mat-icon>
          <span class="ticketing-sub-title">History</span>
        </h3>
      </div>
      <p *ngFor="let status of ticket.history">
        <span>{{ status.label }} </span
        ><span class="ticketing-ticket-details-history-date">
          {{ status.date | date }}</span
        >
      </p>
    </div>
    <div
      class="ticketing-ticket-details-comments-side"
      *ngIf="flagDisplayTicketComment"
    >
      <div class="ticketing-sub-title-h3-container">
        <h3 class="ticketing-ticket-details-sub-title">
          <mat-icon>comment</mat-icon>
          <span class="ticketing-sub-title">Comments</span>
        </h3>
      </div>
      <p
        class="ticketing-ticket-details-comments-container"
        *ngFor="let comment of ticket.commentsToDisplay"
      >
        <span class="mat-body-2">{{ comment.author | titlecase }} </span
        ><span class="ticketing-ticket-details-comments-date">{{
          comment.creationDate | date
        }}</span
        ><br />
        <span>{{ comment.text }} </span>
      </p>
      <app-add-comment-input
        [entityComments]="ticket.commentsToDisplay"
        [entityId]="ticket.id"
        [entityType]="ticketEntity"
      ></app-add-comment-input>
    </div>
  </div>
</div>
